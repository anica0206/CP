<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.demo12.mapper.CourseMapper">

    <!-- 코스 리스트 -->
    <select id="getCourses" resultType="com.example.demo12.model.Course">
        SELECT
        course_no,
        course_name,
        C.academy_no AS academyNo,
        academy_name
        FROM courses C JOIN academys A
        ON C.academy_no = A.academy_no
        ORDER BY course_no
    </select>

    <!-- 수료한 코스 조회 -->
    <select id="getCoursesByUserId" parameterType="String" resultType="com.example.demo12.model.Course">
        SELECT
        user_id, H.course_no, course_name
        FROM historys H JOIN courses C
        ON H.course_no = C.course_no
        WHERE user_id = #{userId}
    </select>

</mapper>
